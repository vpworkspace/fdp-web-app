{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar _default = {\n  setupInterceptors: function setupInterceptors(history, store) {\n    // Add a response interceptor\n    _axios[\"default\"].interceptors.response.use(function (response) {\n      return response;\n    }, function (error) {\n      //catches if the session ended!\n      if (error.response.status === 401) {\n        console.log('EXPIRED TOKEN!');\n        localStorage.clear();\n        store.dispatch(logout());\n        history.push('/');\n      }\n\n      return Promise.reject(error);\n    });\n  }\n};\nexports[\"default\"] = _default;","map":{"version":3,"sources":["C:/Training/Apithon/openbanking-ui-master/packages/ui-data/lib/services/network-service.js"],"names":["Object","defineProperty","exports","value","_axios","_interopRequireDefault","require","obj","__esModule","_default","setupInterceptors","history","store","interceptors","response","use","error","status","console","log","localStorage","clear","dispatch","logout","push","Promise","reject"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAAC,SAAD,CAAP,GAAqB,KAAK,CAA1B;;AAEA,IAAIE,MAAM,GAAGC,sBAAsB,CAACC,OAAO,CAAC,OAAD,CAAR,CAAnC;;AAEA,SAASD,sBAAT,CAAgCE,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AAAE,eAAWA;AAAb,GAArC;AAA0D;;AAEjG,IAAIE,QAAQ,GAAG;AACbC,EAAAA,iBAAiB,EAAE,SAASA,iBAAT,CAA2BC,OAA3B,EAAoCC,KAApC,EAA2C;AAC5D;AACAR,IAAAA,MAAM,CAAC,SAAD,CAAN,CAAkBS,YAAlB,CAA+BC,QAA/B,CAAwCC,GAAxC,CAA4C,UAAUD,QAAV,EAAoB;AAC9D,aAAOA,QAAP;AACD,KAFD,EAEG,UAAUE,KAAV,EAAiB;AAClB;AACA,UAAIA,KAAK,CAACF,QAAN,CAAeG,MAAf,KAA0B,GAA9B,EAAmC;AACjCC,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACAC,QAAAA,YAAY,CAACC,KAAb;AACAT,QAAAA,KAAK,CAACU,QAAN,CAAeC,MAAM,EAArB;AACAZ,QAAAA,OAAO,CAACa,IAAR,CAAa,GAAb;AACD;;AAED,aAAOC,OAAO,CAACC,MAAR,CAAeV,KAAf,CAAP;AACD,KAZD;AAaD;AAhBY,CAAf;AAkBAd,OAAO,CAAC,SAAD,CAAP,GAAqBO,QAArB","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar _default = {\n  setupInterceptors: function setupInterceptors(history, store) {\n    // Add a response interceptor\n    _axios[\"default\"].interceptors.response.use(function (response) {\n      return response;\n    }, function (error) {\n      //catches if the session ended!\n      if (error.response.status === 401) {\n        console.log('EXPIRED TOKEN!');\n        localStorage.clear();\n        store.dispatch(logout());\n        history.push('/');\n      }\n\n      return Promise.reject(error);\n    });\n  }\n};\nexports[\"default\"] = _default;"]},"metadata":{},"sourceType":"script"}