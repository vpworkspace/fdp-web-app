{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setRequestInterceptor = setRequestInterceptor;\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction setRequestInterceptor() {\n  _axios[\"default\"].interceptors.request.use(function (config) {\n    var sessionId = sessionStorage.getItem('session_id');\n    var token = localStorage.getItem('token');\n    var refresh_token = localStorage.getItem('refresh_token');\n    config.headers['session_id'] = sessionId;\n    config.headers['Access-Control-Allow-Origin'] = '*';\n    config.headers['Content-Type'] = 'application/json';\n\n    if (token) {\n      config.headers['Authorization'] = 'Bearer ' + token;\n      config.headers['refresh_token'] = refresh_token;\n    }\n\n    return config;\n  }, function (error) {\n    Promise.reject(error);\n  });\n}","map":{"version":3,"sources":["C:/Training/Apithon/openbanking-ui-master/packages/ui-data/lib/services/request-interceptor.js"],"names":["Object","defineProperty","exports","value","setRequestInterceptor","_axios","_interopRequireDefault","require","obj","__esModule","interceptors","request","use","config","sessionId","sessionStorage","getItem","token","localStorage","refresh_token","headers","error","Promise","reject"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,qBAAR,GAAgCA,qBAAhC;;AAEA,IAAIC,MAAM,GAAGC,sBAAsB,CAACC,OAAO,CAAC,OAAD,CAAR,CAAnC;;AAEA,SAASD,sBAAT,CAAgCE,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AAAE,eAAWA;AAAb,GAArC;AAA0D;;AAEjG,SAASJ,qBAAT,GAAiC;AAC/BC,EAAAA,MAAM,CAAC,SAAD,CAAN,CAAkBK,YAAlB,CAA+BC,OAA/B,CAAuCC,GAAvC,CAA2C,UAAUC,MAAV,EAAkB;AAC3D,QAAIC,SAAS,GAAGC,cAAc,CAACC,OAAf,CAAuB,YAAvB,CAAhB;AACA,QAAIC,KAAK,GAAGC,YAAY,CAACF,OAAb,CAAqB,OAArB,CAAZ;AACA,QAAIG,aAAa,GAAGD,YAAY,CAACF,OAAb,CAAqB,eAArB,CAApB;AACAH,IAAAA,MAAM,CAACO,OAAP,CAAe,YAAf,IAA+BN,SAA/B;AACAD,IAAAA,MAAM,CAACO,OAAP,CAAe,6BAAf,IAAgD,GAAhD;AACAP,IAAAA,MAAM,CAACO,OAAP,CAAe,cAAf,IAAiC,kBAAjC;;AAEA,QAAIH,KAAJ,EAAW;AACTJ,MAAAA,MAAM,CAACO,OAAP,CAAe,eAAf,IAAkC,YAAYH,KAA9C;AACAJ,MAAAA,MAAM,CAACO,OAAP,CAAe,eAAf,IAAkCD,aAAlC;AACD;;AAED,WAAON,MAAP;AACD,GAdD,EAcG,UAAUQ,KAAV,EAAiB;AAClBC,IAAAA,OAAO,CAACC,MAAR,CAAeF,KAAf;AACD,GAhBD;AAiBD","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setRequestInterceptor = setRequestInterceptor;\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction setRequestInterceptor() {\n  _axios[\"default\"].interceptors.request.use(function (config) {\n    var sessionId = sessionStorage.getItem('session_id');\n    var token = localStorage.getItem('token');\n    var refresh_token = localStorage.getItem('refresh_token');\n    config.headers['session_id'] = sessionId;\n    config.headers['Access-Control-Allow-Origin'] = '*';\n    config.headers['Content-Type'] = 'application/json';\n\n    if (token) {\n      config.headers['Authorization'] = 'Bearer ' + token;\n      config.headers['refresh_token'] = refresh_token;\n    }\n\n    return config;\n  }, function (error) {\n    Promise.reject(error);\n  });\n}"]},"metadata":{},"sourceType":"script"}