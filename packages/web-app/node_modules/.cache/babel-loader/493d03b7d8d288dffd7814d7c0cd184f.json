{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = createRequest;\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nvar _requestInterceptor = require(\"./request-interceptor\");\n\nvar _common = require(\"../actions/common\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar base_url = 'http://13.234.116.62:8080/open-banking/v3';\n(0, _requestInterceptor.setRequestInterceptor)();\n\nfunction createRequest(dispatch, endpoint) {\n  var method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'GET';\n  var data = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var headers = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n  var callbackFn = arguments.length > 5 ? arguments[5] : undefined;\n  dispatch((0, _common.setLoader)(true));\n  (0, _axios[\"default\"])({\n    url: base_url + endpoint,\n    method: method,\n    data: data,\n    headers: headers\n  }).then(function (response) {\n    // dont stop loader in case of redirection\n    if (!endpoint.includes('init')) {\n      dispatch((0, _common.setLoader)(false));\n    }\n\n    callbackFn(response.data);\n  })[\"catch\"](function (error) {\n    dispatch((0, _common.setLoader)(false));\n    dispatch((0, _common.setError)(error));\n  });\n}","map":{"version":3,"sources":["C:/Training/Apithon/openbanking-ui-master/packages/ui-data/lib/services/request.js"],"names":["Object","defineProperty","exports","value","createRequest","_axios","_interopRequireDefault","require","_requestInterceptor","_common","obj","__esModule","base_url","setRequestInterceptor","dispatch","endpoint","method","arguments","length","undefined","data","headers","callbackFn","setLoader","url","then","response","includes","error","setError"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAAC,SAAD,CAAP,GAAqBE,aAArB;;AAEA,IAAIC,MAAM,GAAGC,sBAAsB,CAACC,OAAO,CAAC,OAAD,CAAR,CAAnC;;AAEA,IAAIC,mBAAmB,GAAGD,OAAO,CAAC,uBAAD,CAAjC;;AAEA,IAAIE,OAAO,GAAGF,OAAO,CAAC,mBAAD,CAArB;;AAEA,SAASD,sBAAT,CAAgCI,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AAAE,eAAWA;AAAb,GAArC;AAA0D;;AAEjG,IAAIE,QAAQ,GAAG,2CAAf;AACA,CAAC,GAAGJ,mBAAmB,CAACK,qBAAxB;;AAEA,SAAST,aAAT,CAAuBU,QAAvB,EAAiCC,QAAjC,EAA2C;AACzC,MAAIC,MAAM,GAAGC,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoE,KAAjF;AACA,MAAIG,IAAI,GAAGH,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAA/E;AACA,MAAII,OAAO,GAAGJ,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAlF;AACA,MAAIK,UAAU,GAAGL,SAAS,CAACC,MAAV,GAAmB,CAAnB,GAAuBD,SAAS,CAAC,CAAD,CAAhC,GAAsCE,SAAvD;AACAL,EAAAA,QAAQ,CAAC,CAAC,GAAGL,OAAO,CAACc,SAAZ,EAAuB,IAAvB,CAAD,CAAR;AACA,GAAC,GAAGlB,MAAM,CAAC,SAAD,CAAV,EAAuB;AACrBmB,IAAAA,GAAG,EAAEZ,QAAQ,GAAGG,QADK;AAErBC,IAAAA,MAAM,EAAEA,MAFa;AAGrBI,IAAAA,IAAI,EAAEA,IAHe;AAIrBC,IAAAA,OAAO,EAAEA;AAJY,GAAvB,EAKGI,IALH,CAKQ,UAAUC,QAAV,EAAoB;AAC1B;AACA,QAAI,CAACX,QAAQ,CAACY,QAAT,CAAkB,MAAlB,CAAL,EAAgC;AAC9Bb,MAAAA,QAAQ,CAAC,CAAC,GAAGL,OAAO,CAACc,SAAZ,EAAuB,KAAvB,CAAD,CAAR;AACD;;AAEDD,IAAAA,UAAU,CAACI,QAAQ,CAACN,IAAV,CAAV;AACD,GAZD,EAYG,OAZH,EAYY,UAAUQ,KAAV,EAAiB;AAC3Bd,IAAAA,QAAQ,CAAC,CAAC,GAAGL,OAAO,CAACc,SAAZ,EAAuB,KAAvB,CAAD,CAAR;AACAT,IAAAA,QAAQ,CAAC,CAAC,GAAGL,OAAO,CAACoB,QAAZ,EAAsBD,KAAtB,CAAD,CAAR;AACD,GAfD;AAgBD","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = createRequest;\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nvar _requestInterceptor = require(\"./request-interceptor\");\n\nvar _common = require(\"../actions/common\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar base_url = 'http://13.234.116.62:8080/open-banking/v3';\n(0, _requestInterceptor.setRequestInterceptor)();\n\nfunction createRequest(dispatch, endpoint) {\n  var method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'GET';\n  var data = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var headers = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n  var callbackFn = arguments.length > 5 ? arguments[5] : undefined;\n  dispatch((0, _common.setLoader)(true));\n  (0, _axios[\"default\"])({\n    url: base_url + endpoint,\n    method: method,\n    data: data,\n    headers: headers\n  }).then(function (response) {\n    // dont stop loader in case of redirection\n    if (!endpoint.includes('init')) {\n      dispatch((0, _common.setLoader)(false));\n    }\n\n    callbackFn(response.data);\n  })[\"catch\"](function (error) {\n    dispatch((0, _common.setLoader)(false));\n    dispatch((0, _common.setError)(error));\n  });\n}"]},"metadata":{},"sourceType":"script"}